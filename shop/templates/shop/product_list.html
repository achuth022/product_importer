<!DOCTYPE html>
<html>
<head>
    <title>Product List</title>
    <style>
        table, th, td { border: 1px solid black; border-collapse: collapse; padding: 8px; }
        th { background-color: #f2f2f2; }
        input { margin-right: 5px; }
    </style>
</head>
<body>
    <h1>Products</h1>

    <!-- Filter Form -->
    <form method="get">
        SKU: <input type="text" name="sku" value="{{ sku_query }}">
        Name: <input type="text" name="name" value="{{ name_query }}">
        Status:
        <select name="status">
    <option value="">All</option>
    <option value="active" {% if status_query|lower == "active" %}selected{% endif %}>Active</option>
    <option value="inactive" {% if status_query|lower == "inactive" %}selected{% endif %}>Inactive</option>
        </select>

        <button type="submit">Filter</button>
    </form>

    
     <a href="{% url 'product_create' %}" class="btn btn-primary mb-3">Add Product</a>

     
    <form method="POST" action="{% url 'bulk_delete_products' %}">
    {% csrf_token %}
    <button type="submit" class="btn btn-danger" onclick="return confirm('Are you sure you want to delete entire products?');">
        Delete All Products
    </button>
    </form>



    <table>
        <th>
            <tr>
                <th>SKU</th>
                <th>Name</th>
                <th>Description</th>
                <th>Price</th>
                <th>Status</th>
                <th>Update</th>
               
            </tr>
        </th>
        <tbody>
            {% for product in products %}
            <tr>
                <td>{{ product.sku }}</td>
                <td>{{ product.name }}</td>
                <td>{{ product.description }}</td>
                <td>{{ product.price }}</td>
                <td>{{ product.active|yesno:"Active,Inactive" }}</td>
                <td><a href="{% url 'product_edit' product.id %}">Edit</a></td>
                <td><a href="{% url 'product_delete' product.id %}" 
                     onclick="return confirm('Are you sure you want to delete this product?');">Delete</a></td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="5">No products found.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    
</body>
</html>
